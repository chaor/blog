---
layout: post
title:  "[系统设计] 存储 Storage"
date: 2022-03-04 00:20:59-08:00
categories: systemdesign
---
讨论storage时往往涉及数据库，数据库也是一个server。

Server就会有宕机重启的问题，如果重启后数据还存在，即为`persistence`(持久化)。这要求数据存到disk。如果数据只存于memory，则宕机重启后数据消失。存memory好处是读写比存disk快。

分布式系统中，数据可以replication(复制)也可以sharding(分成piece)。

数据如果在多台机器上有`replica`(复制品, exact copy)，则会有`consistency`(一致性)的问题，即数据有多老(`staleness`)或多新(`up-to-dateness`)。比如访问一个分布式系统的数据时，是否会拿到老数据，还是总会拿到最新数据。